<template>
    <v-sheet
        :height="height"
        :width="width"
        color="transparent"
    >
        <svg
            version="1.2"
            :width="width"
            :height="height"
            viewBox="13891 17287 1111 1111"
            preserveAspectRatio="xMidYMid"
            fill-rule="evenodd"
            stroke-width="28.222"
            stroke-linejoin="round"
            xmlns="http://www.w3.org/2000/svg"
            xml:space="preserve"
        >
            <g class="Page">
                <g
                    id="node5"
                    class="com.sun.star.drawing.ClosedBezierShape"
                >
                    <rect
                        class="BoundingBox"
                        stroke="none"
                        fill="none"
                        x="14445"
                        y="17397"
                        width="444"
                        height="444"
                    />
                    <path
                        :fill="calculateColor(5)"
                        stroke="none"
                        d="M 14721,17495 L 14721,17542 C 14725,17541 14729,17539 14733,17539 14736,17538 14740,17537 14743,17537 14748,17537 14752,17539 14755,17541 14758,17544 14760,17547 14760,17552 14760,17556 14758,17560 14755,17562 14752,17565 14748,17566 14743,17566 14739,17566 14735,17566 14731,17564 14727,17563 14723,17561 14718,17558 L 14718,17576 C 14723,17577 14727,17579 14732,17580 14737,17581 14742,17581 14746,17581 14758,17581 14766,17579 14773,17573 14779,17568 14782,17561 14782,17552 14782,17543 14779,17535 14773,17530 14768,17525 14759,17522 14749,17522 14747,17522 14745,17523 14744,17523 14742,17523 14740,17523 14739,17524 L 14739,17511 14776,17511 14776,17495 14721,17495 Z M 14529,17839 L 14446,17756 14804,17397 14880,17405 14888,17481 14529,17839 Z"
                    />
                </g>

                <g
                    id="node6"
                    class="com.sun.star.drawing.ClosedBezierShape"
                >
                    <rect
                        class="BoundingBox"
                        stroke="none"
                        fill="none"
                        x="14445"
                        y="17838"
                        width="444"
                        height="444"
                    />
                    <path
                        :fill="calculateColor(6)"
                        stroke="none"
                        d="M 14755,18159 C 14759,18159 14762,18161 14764,18163 14766,18166 14767,18169 14767,18174 14767,18179 14766,18183 14764,18185 14762,18188 14759,18189 14755,18189 14751,18189 14749,18188 14747,18185 14745,18183 14744,18179 14744,18174 14744,18169 14745,18166 14747,18163 14749,18161 14751,18159 14755,18159 Z M 14782,18118 C 14779,18117 14775,18116 14771,18116 14768,18115 14764,18115 14760,18115 14748,18115 14738,18119 14731,18127 14724,18135 14720,18146 14720,18160 14720,18174 14723,18184 14729,18192 14735,18199 14744,18203 14755,18203 14765,18203 14773,18200 14779,18195 14785,18189 14788,18182 14788,18173 14788,18165 14785,18158 14780,18153 14775,18148 14768,18145 14759,18145 14755,18145 14752,18146 14749,18147 14746,18148 14744,18149 14741,18151 14742,18144 14744,18138 14748,18135 14751,18131 14756,18129 14763,18129 14766,18129 14769,18130 14772,18130 14775,18131 14779,18132 14782,18134 L 14782,18118 Z M 14529,17839 L 14888,18197 14880,18273 14804,18281 14446,17922 14529,17839 Z"
                    />
                </g>

                <g
                    id="node7"
                    class="com.sun.star.drawing.PolyPolygonShape"
                >
                    <rect
                        class="BoundingBox"
                        stroke="none"
                        fill="none"
                        x="14003"
                        y="17842"
                        width="445"
                        height="444"
                    />
                    <path
                        :fill="calculateColor(7)"
                        stroke="none"
                        d="M 14095,18116 L 14095,18132 14136,18132 14105,18201 14126,18201 14159,18129 14159,18116 14095,18116 Z M 14363,17842 L 14446,17926 14087,18284 14012,18277 14004,18201 14363,17842 Z"
                    />
                </g>

                <g
                    id="node8"
                    class="com.sun.star.drawing.ClosedBezierShape"
                >
                    <rect
                        class="BoundingBox"
                        stroke="none"
                        fill="none"
                        x="14004"
                        y="17400"
                        width="444"
                        height="444"
                    />
                    <path
                        :fill="calculateColor(8)"
                        stroke="none"
                        d="M 14140,17538 C 14144,17538 14147,17539 14149,17541 14151,17543 14152,17546 14152,17551 14152,17555 14151,17558 14149,17560 14147,17562 14144,17564 14140,17564 14136,17564 14132,17562 14130,17560 14128,17558 14127,17555 14127,17551 14127,17546 14128,17543 14130,17541 14132,17539 14136,17538 14140,17538 Z M 14124,17530 C 14118,17532 14114,17535 14111,17538 14108,17542 14106,17546 14106,17552 14106,17560 14109,17567 14115,17571 14120,17575 14129,17577 14140,17577 14151,17577 14159,17575 14165,17571 14170,17567 14173,17560 14173,17552 14173,17546 14172,17542 14169,17538 14166,17535 14161,17532 14156,17530 14161,17529 14165,17526 14167,17523 14170,17520 14171,17516 14171,17511 14171,17504 14169,17498 14163,17495 14158,17491 14150,17489 14140,17489 14129,17489 14122,17491 14116,17495 14111,17499 14108,17504 14108,17511 14108,17516 14109,17520 14112,17523 14115,17526 14119,17529 14124,17530 Z M 14129,17513 C 14129,17510 14130,17507 14132,17506 14134,17504 14136,17503 14140,17503 14143,17503 14146,17504 14148,17506 14150,17507 14150,17510 14150,17513 14150,17517 14150,17519 14148,17521 14146,17523 14143,17524 14140,17524 14136,17524 14134,17523 14132,17521 14130,17519 14129,17517 14129,17513 Z M 14363,17843 L 14004,17484 14012,17408 14088,17401 14446,17759 14363,17843 Z"
                    />
                </g>

                <g
                    id="node1"
                    class="com.sun.star.drawing.PolyPolygonShape"
                >
                    <rect
                        class="BoundingBox"
                        stroke="none"
                        fill="none"
                        x="14327"
                        y="17287"
                        width="238"
                        height="557"
                    />
                    <path
                        :fill="calculateColor(1)"
                        stroke="none"
                        d="M 14375,17546 L 14375,17581 14515,17581 14515,17546 14470,17546 14470,17381 14421,17381 14374,17391 14374,17426 14421,17416 14421,17546 14375,17546 Z M 14328,17842 L 14328,17335 14446,17287 14564,17335 14564,17842 14328,17842 Z"
                    />
                </g>

                <g
                    id="node2"
                    class="com.sun.star.drawing.ClosedBezierShape"
                >
                    <rect
                        class="BoundingBox"
                        stroke="none"
                        fill="none"
                        x="14446"
                        y="17724"
                        width="556"
                        height="238"
                    />
                    <path
                        :fill="calculateColor(2)"
                        stroke="none"
                        d="M 14803,17902 L 14845,17864 C 14864,17848 14875,17836 14881,17826 14887,17817 14889,17807 14889,17796 14889,17777 14883,17762 14870,17751 14856,17741 14838,17736 14814,17736 14803,17736 14792,17737 14780,17739 14769,17741 14757,17744 14746,17747 L 14746,17791 C 14757,17785 14767,17780 14776,17776 14786,17773 14795,17771 14803,17771 14813,17771 14822,17774 14828,17780 14834,17785 14838,17793 14838,17802 14838,17808 14836,17814 14833,17820 14830,17825 14825,17831 14818,17837 L 14745,17902 14745,17940 14891,17940 14891,17902 14803,17902 Z M 14446,17724 L 14953,17724 15001,17842 14953,17961 14446,17961 14446,17724 Z"
                    />
                </g>

                <g
                    id="node3"
                    class="com.sun.star.drawing.ClosedBezierShape"
                >
                    <rect
                        class="BoundingBox"
                        stroke="none"
                        fill="none"
                        x="14327"
                        y="17842"
                        width="238"
                        height="556"
                    />
                    <path
                        :fill="calculateColor(3)"
                        stroke="none"
                        d="M 14483,18162 C 14495,18159 14504,18154 14510,18146 14516,18139 14519,18129 14519,18118 14519,18100 14513,18088 14500,18079 14487,18070 14468,18066 14442,18066 14432,18066 14422,18067 14412,18068 14402,18070 14392,18072 14382,18075 L 14382,18113 C 14390,18109 14399,18106 14407,18104 14416,18102 14424,18101 14432,18101 14444,18101 14452,18104 14458,18108 14465,18112 14468,18118 14468,18126 14468,18134 14465,18140 14458,18144 14452,18148 14442,18150 14429,18150 L 14407,18150 14407,18184 14428,18184 C 14443,18184 14454,18186 14461,18191 14469,18195 14472,18202 14472,18211 14472,18220 14469,18227 14461,18232 14454,18237 14444,18239 14430,18239 14421,18239 14411,18238 14402,18235 14392,18233 14383,18229 14373,18224 L 14373,18264 C 14383,18267 14393,18270 14404,18272 14414,18273 14424,18274 14435,18274 14464,18274 14486,18269 14501,18259 14516,18248 14524,18233 14524,18213 14524,18200 14521,18189 14514,18180 14507,18172 14496,18166 14483,18162 Z M 14328,17842 L 14564,17842 14564,18349 14446,18397 14328,18349 14328,17842 Z"
                    />
                </g>

                <g
                    id="node4"
                    class="com.sun.star.drawing.PolyPolygonShape"
                >
                    <rect
                        class="BoundingBox"
                        stroke="none"
                        fill="none"
                        x="13891"
                        y="17724"
                        width="556"
                        height="238"
                    />
                    <path
                        :fill="calculateColor(4)"
                        stroke="none"
                        d="M 14066,17782 L 14066,17866 14010,17866 14066,17782 Z M 14058,17739 L 13977,17859 13977,17903 14066,17903 14066,17940 14115,17940 14115,17903 14144,17903 14144,17866 14115,17866 14115,17739 14058,17739 Z M 14446,17724 L 14446,17961 13939,17961 13891,17842 13939,17724 14446,17724 Z"
                    />
                </g>

                <g
                    id="nodeCenter"
                    class="com.sun.star.drawing.PolyPolygonShape"
                >
                    <rect
                        class="BoundingBox"
                        stroke="none"
                        fill="none"
                        x="14243"
                        y="17637"
                        width="408"
                        height="408"
                    />
                    <path
                        v-if="hasKnotenarme"
                        :fill="activeColor"
                        stroke="none"
                        d="m 14375.794,17961 -48.794,0.582 v -48.913 -138.008 -50.661 h 48.794 137.669 50.537 l -0.581,50.661 v 138.008 l 0.581,48.913 -50.537,-0.582 z"
                    />
                    <path
                        v-if="includesKnotenarm1and3"
                        :fill="activeColor"
                        stroke="none"
                        d="m 14327.291,17758.947 -0.582,-58.692 h 48.913 138.008 50.661 v 58.692 165.593 60.787 l -50.661,-0.699 h -138.008 l -48.913,0.699 0.582,-60.787 z"
                    />
                    <path
                        v-if="includesKnotenarm2and4"
                        :fill="activeColor"
                        stroke="none"
                        d="m 14361.656,17961 -58.692,0.582 v -48.913 -138.008 -50.661 h 58.692 165.593 60.787 l -0.699,50.661 v 138.008 l 0.699,48.913 -60.787,-0.582 z"
                    />
                </g>
            </g>
        </svg>
    </v-sheet>
</template>
<script lang="ts">
import { Component, Prop, Vue } from "vue-property-decorator";

// Typen
/* eslint-disable no-unused-vars */
import LadeKnotenarmDTO from "@/types/zaehlung/LadeKnotenarmDTO";
/* eslint-enable no-unused-vars */

@Component
export default class ZaehlungGeometrie extends Vue {
    @Prop({ default: 72 }) height?: number;
    @Prop({ default: 72 }) width?: number;
    @Prop({ default: "#FFFFFF" }) activeColor?: string;
    @Prop({ default: "#757575" }) passiveColor?: string;
    @Prop() knotenarme?: LadeKnotenarmDTO[];

    /**
     * Wenn für die knotenarm im Array gefunden wurde, wird diese in der Grafik in der "activeColor" dargestellt,
     * ansonsten in der passiveColor.
     */
    calculateColor(knotenarm: number): string | undefined {
        let color = this.passiveColor;
        const gefilteterKnotenarm = this.knotenarme?.filter(
            (k) => k.nummer === knotenarm
        )[0];
        if (gefilteterKnotenarm) {
            color = this.activeColor;
        }
        return color;
    }

    get includesKnotenarm1and3() {
        return (
            this.knotenarme?.filter((k) => k.nummer === 1)[0] &&
            this.knotenarme?.filter((k) => k.nummer === 3)[0]
        );
    }

    get includesKnotenarm2and4() {
        return (
            this.knotenarme?.filter((k) => k.nummer === 2)[0] &&
            this.knotenarme?.filter((k) => k.nummer === 4)[0]
        );
    }

    get hasKnotenarme() {
        return this.knotenarme && this.knotenarme.length > 0;
    }
}
</script>